<!DOCTYPE HTML>
<html>
<title>Vue.js-数据与方法</title>
<!-- 开发环境版本，包含了用帮助的命令行警告 -->
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<!-- 生产环境版本，优化了尺寸和速度 -->
<!--<script src="https://cdn.jsdelivr.net/npm/vue"></script> -->
<body>

<div id = 'example'>{{a}}</div>

</body>
<script type="text/javascript">

// 我们的数据对象
/*只有在当实例被创建时 data 中存在的属性才是响应式的*/
var data = { a: 1 }

/*Object.freeze() 会阻止修改现有的属性，也意味着响应系统无法再追踪变化*/
// Object.freeze(data)

// 该对象被加入到一个 Vue 实例中
var vm = new Vue({
  data: data
})

// 获得这个实例上的属性
// 返回源数据中对应的字段
console.log("vm.a == data.a: " + (vm.a == data.a)) // => true

// 设置属性也会影响到原始数据
vm.a = 2
console.log("data.a: " + data.a) // => 2

// ……反之亦然
data.a = 3
console.log("vm.a: " + vm.a) // => 3


var vm = new Vue({
  el: '#example',
  data: data
})

console.log("vm.$data === data: " + (vm.$data === data)) // => true
console.log("vm.$el === document.getElementById('example'): " + (vm.$el === document.getElementById('example'))) // => true

// $watch 是一个实例方法
vm.$watch('a', function (newValue, oldValue) {
  // 这个回调将在 `vm.a` 改变后调用
  console.log('newValue:' + newValue + " ,oldValue:" + oldValue)
})

</script>
</html>